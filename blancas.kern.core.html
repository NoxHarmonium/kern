<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>blancas.kern.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Kern 0.6.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="blancas.kern.core.html"><span>blancas.kern.core</span></a></li><li><a href="blancas.kern.expr.html"><span>blancas.kern.expr</span></a></li><li><a href="blancas.kern.i18n.html"><span>blancas.kern.i18n</span></a></li><li><a href="blancas.kern.lexer.html"><span>blancas.kern.lexer</span></a></li><li><a href="blancas.kern.lexer.basic.html"><span>blancas.kern.lexer.basic</span></a></li><li><a href="blancas.kern.lexer.c-style.html"><span>blancas.kern.lexer.c-style</span></a></li><li><a href="blancas.kern.lexer.haskell-style.html"><span>blancas.kern.lexer.haskell-style</span></a></li><li><a href="blancas.kern.lexer.java-style.html"><span>blancas.kern.lexer.java-style</span></a></li><li><a href="blancas.kern.lexer.shell-style.html"><span>blancas.kern.lexer.shell-style</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="blancas.kern.core.html#var-*tab-width*"><span>*tab-width*</span></a></li><li><a href="blancas.kern.core.html#var--%3EPError"><span>-&gt;PError</span></a></li><li><a href="blancas.kern.core.html#var--%3EPMessage"><span>-&gt;PMessage</span></a></li><li><a href="blancas.kern.core.html#var--%3EPPosition"><span>-&gt;PPosition</span></a></li><li><a href="blancas.kern.core.html#var--%3EPState"><span>-&gt;PState</span></a></li><li><a href="blancas.kern.core.html#var-%3C%24%3E"><span>&lt;$&gt;</span></a></li><li><a href="blancas.kern.core.html#var-%3C*%3E"><span>&lt;*&gt;</span></a></li><li><a href="blancas.kern.core.html#var-%3C%2B%3E"><span>&lt;+&gt;</span></a></li><li><a href="blancas.kern.core.html#var-%3C%3A%3E"><span>&lt;:&gt;</span></a></li><li><a href="blancas.kern.core.html#var-%3C%3C"><span>&lt;&lt;</span></a></li><li><a href="blancas.kern.core.html#var-%3C%3F%3E"><span>&lt;?&gt;</span></a></li><li><a href="blancas.kern.core.html#var-%3C%7C%3E"><span>&lt;|&gt;</span></a></li><li><a href="blancas.kern.core.html#var-%3E%3E"><span>&gt;&gt;</span></a></li><li><a href="blancas.kern.core.html#var-%3E%3E%3D"><span>&gt;&gt;=</span></a></li><li><a href="blancas.kern.core.html#var-alpha-num"><span>alpha-num</span></a></li><li><a href="blancas.kern.core.html#var-any-char"><span>any-char</span></a></li><li><a href="blancas.kern.core.html#var-between"><span>between</span></a></li><li><a href="blancas.kern.core.html#var-bind"><span>bind</span></a></li><li><a href="blancas.kern.core.html#var-char-seq"><span>char-seq</span></a></li><li><a href="blancas.kern.core.html#var-clear-empty"><span>clear-empty</span></a></li><li><a href="blancas.kern.core.html#var-dec-num"><span>dec-num</span></a></li><li><a href="blancas.kern.core.html#var-def-"><span>def-</span></a></li><li><a href="blancas.kern.core.html#var-defn*"><span>defn*</span></a></li><li><a href="blancas.kern.core.html#var-digit"><span>digit</span></a></li><li><a href="blancas.kern.core.html#var-end-by"><span>end-by</span></a></li><li><a href="blancas.kern.core.html#var-end-by1"><span>end-by1</span></a></li><li><a href="blancas.kern.core.html#var-eof"><span>eof</span></a></li><li><a href="blancas.kern.core.html#var-expect"><span>expect</span></a></li><li><a href="blancas.kern.core.html#var-expecting"><span>expecting</span></a></li><li><a href="blancas.kern.core.html#var-f-%3Es"><span>f-&gt;s</span></a></li><li><a href="blancas.kern.core.html#var-fail"><span>fail</span></a></li><li><a href="blancas.kern.core.html#var-failed-empty%3F"><span>failed-empty?</span></a></li><li><a href="blancas.kern.core.html#var-field*"><span>field*</span></a></li><li><a href="blancas.kern.core.html#var-float-num"><span>float-num</span></a></li><li><a href="blancas.kern.core.html#var-fwd"><span>fwd</span></a></li><li><a href="blancas.kern.core.html#var-get-input"><span>get-input</span></a></li><li><a href="blancas.kern.core.html#var-get-position"><span>get-position</span></a></li><li><a href="blancas.kern.core.html#var-get-state"><span>get-state</span></a></li><li><a href="blancas.kern.core.html#var-hex-digit"><span>hex-digit</span></a></li><li><a href="blancas.kern.core.html#var-hex-num"><span>hex-num</span></a></li><li><a href="blancas.kern.core.html#var-letter"><span>letter</span></a></li><li><a href="blancas.kern.core.html#var-look-ahead"><span>look-ahead</span></a></li><li><a href="blancas.kern.core.html#var-lower"><span>lower</span></a></li><li><a href="blancas.kern.core.html#var-many"><span>many</span></a></li><li><a href="blancas.kern.core.html#var-many-till"><span>many-till</span></a></li><li><a href="blancas.kern.core.html#var-many0"><span>many0</span></a></li><li><a href="blancas.kern.core.html#var-many1"><span>many1</span></a></li><li><a href="blancas.kern.core.html#var-map-%3EPError"><span>map-&gt;PError</span></a></li><li><a href="blancas.kern.core.html#var-map-%3EPMessage"><span>map-&gt;PMessage</span></a></li><li><a href="blancas.kern.core.html#var-map-%3EPPosition"><span>map-&gt;PPosition</span></a></li><li><a href="blancas.kern.core.html#var-map-%3EPState"><span>map-&gt;PState</span></a></li><li><a href="blancas.kern.core.html#var-mark"><span>mark</span></a></li><li><a href="blancas.kern.core.html#var-member%3F"><span>member?</span></a></li><li><a href="blancas.kern.core.html#var-modify-state"><span>modify-state</span></a></li><li><a href="blancas.kern.core.html#var-new-line*"><span>new-line*</span></a></li><li><a href="blancas.kern.core.html#var-none-of*"><span>none-of*</span></a></li><li><a href="blancas.kern.core.html#var-not-followed-by"><span>not-followed-by</span></a></li><li><a href="blancas.kern.core.html#var-oct-digit"><span>oct-digit</span></a></li><li><a href="blancas.kern.core.html#var-oct-num"><span>oct-num</span></a></li><li><a href="blancas.kern.core.html#var-one-of*"><span>one-of*</span></a></li><li><a href="blancas.kern.core.html#var-option"><span>option</span></a></li><li><a href="blancas.kern.core.html#var-optional"><span>optional</span></a></li><li><a href="blancas.kern.core.html#var-parse"><span>parse</span></a></li><li><a href="blancas.kern.core.html#var-parse-file"><span>parse-file</span></a></li><li><a href="blancas.kern.core.html#var-predict"><span>predict</span></a></li><li><a href="blancas.kern.core.html#var-print-error"><span>print-error</span></a></li><li><a href="blancas.kern.core.html#var-put-state"><span>put-state</span></a></li><li><a href="blancas.kern.core.html#var-reply"><span>reply</span></a></li><li><a href="blancas.kern.core.html#var-return"><span>return</span></a></li><li><a href="blancas.kern.core.html#var-run"><span>run</span></a></li><li><a href="blancas.kern.core.html#var-run*"><span>run*</span></a></li><li><a href="blancas.kern.core.html#var-runf"><span>runf</span></a></li><li><a href="blancas.kern.core.html#var-runf*"><span>runf*</span></a></li><li><a href="blancas.kern.core.html#var-satisfy"><span>satisfy</span></a></li><li><a href="blancas.kern.core.html#var-sep-by"><span>sep-by</span></a></li><li><a href="blancas.kern.core.html#var-sep-by1"><span>sep-by1</span></a></li><li><a href="blancas.kern.core.html#var-sep-end-by"><span>sep-end-by</span></a></li><li><a href="blancas.kern.core.html#var-sep-end-by1"><span>sep-end-by1</span></a></li><li><a href="blancas.kern.core.html#var-set-input"><span>set-input</span></a></li><li><a href="blancas.kern.core.html#var-set-position"><span>set-position</span></a></li><li><a href="blancas.kern.core.html#var-skip"><span>skip</span></a></li><li><a href="blancas.kern.core.html#var-skip-many"><span>skip-many</span></a></li><li><a href="blancas.kern.core.html#var-skip-many1"><span>skip-many1</span></a></li><li><a href="blancas.kern.core.html#var-skip-ws"><span>skip-ws</span></a></li><li><a href="blancas.kern.core.html#var-space"><span>space</span></a></li><li><a href="blancas.kern.core.html#var-split"><span>split</span></a></li><li><a href="blancas.kern.core.html#var-split-on"><span>split-on</span></a></li><li><a href="blancas.kern.core.html#var-sym*"><span>sym*</span></a></li><li><a href="blancas.kern.core.html#var-sym-"><span>sym-</span></a></li><li><a href="blancas.kern.core.html#var-tab"><span>tab</span></a></li><li><a href="blancas.kern.core.html#var-times"><span>times</span></a></li><li><a href="blancas.kern.core.html#var-token*"><span>token*</span></a></li><li><a href="blancas.kern.core.html#var-token-"><span>token-</span></a></li><li><a href="blancas.kern.core.html#var-unexpected"><span>unexpected</span></a></li><li><a href="blancas.kern.core.html#var-unexpected-input"><span>unexpected-input</span></a></li><li><a href="blancas.kern.core.html#var-upper"><span>upper</span></a></li><li><a href="blancas.kern.core.html#var-value"><span>value</span></a></li><li><a href="blancas.kern.core.html#var-white-space"><span>white-space</span></a></li><li><a href="blancas.kern.core.html#var-word*"><span>word*</span></a></li><li><a href="blancas.kern.core.html#var-word-"><span>word-</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>blancas.kern.core documentation</h2><pre class="doc">The core Kern library.

Kern is a library of parser combinators for Clojure. It is useful for
implementing recursive-descent parsers based on predictive LL(1) grammars
with on-demand, unlimited look-ahead.

The main inspiration for Kern comes from Parsec, a Haskell library written
by Daan Leijen, as well as work by Graham Hutton, Erik Meijer, and William Burge.
The name Kern is a token of appreciation to Brian Kernighan (now at Princeton)
for his work on programming languages.

Daan Leijen
Parsec, a fast combinator parser, 2001
http://legacy.cs.uu.nl/daan/download/parsec/parsec.pdf

Graham Hutton and Erik Meijer
Monadic Parser Combinators, 1996
http://eprints.nottingham.ac.uk/237/1/monparsing.pdf

William H. Burge
Recursive programming techniques
Addison-Wesley, 1975</pre><div class="public" id="var-*tab-width*"><h3>*tab-width*</h3><div class="usage"></div><pre class="doc">The number of columns to advance for a tab character.
By default, a tab takes four columns.</pre></div><div class="public" id="var--%3EPError"><h3>-&gt;PError</h3><div class="usage"><code>(-&gt;PError pos msgs)</code></div><pre class="doc">Positional factory function for class blancas.kern.core.PError.
</pre></div><div class="public" id="var--%3EPMessage"><h3>-&gt;PMessage</h3><div class="usage"><code>(-&gt;PMessage type text)</code></div><pre class="doc">Positional factory function for class blancas.kern.core.PMessage.
</pre></div><div class="public" id="var--%3EPPosition"><h3>-&gt;PPosition</h3><div class="usage"><code>(-&gt;PPosition src line col)</code></div><pre class="doc">Positional factory function for class blancas.kern.core.PPosition.
</pre></div><div class="public" id="var--%3EPState"><h3>-&gt;PState</h3><div class="usage"><code>(-&gt;PState input pos value ok empty user error)</code></div><pre class="doc">Positional factory function for class blancas.kern.core.PState.
</pre></div><div class="public" id="var-%3C%24%3E"><h3>&lt;$&gt;</h3><div class="usage"><code>(&lt;$&gt; f p)</code></div><pre class="doc">Parses p; if successful, it applies f to the value parsed by p.
</pre></div><div class="public" id="var-%3C*%3E"><h3>&lt;*&gt;</h3><div class="usage"><code>(&lt;*&gt; p q &amp; more)</code></div><pre class="doc">Parses p followed by q or more; collects the results in a
vector, including nil values. If any parser fails, it
stops immediately and fails.</pre></div><div class="public" id="var-%3C%2B%3E"><h3>&lt;+&gt;</h3><div class="usage"><code>(&lt;+&gt; p)</code><code>(&lt;+&gt; p q &amp; more)</code></div><pre class="doc">Applies one or more parsers; flattens the result and
converts it to a string.</pre></div><div class="public" id="var-%3C%3A%3E"><h3>&lt;:&gt;</h3><div class="usage"><code>(&lt;:&gt; p)</code></div><pre class="doc">Parses p; on failure it pretends it did not consume any input.
</pre></div><div class="public" id="var-%3C%3C"><h3>&lt;&lt;</h3><div class="usage"><code>(&lt;&lt; p q)</code><code>(&lt;&lt; p q &amp; more)</code></div><pre class="doc">Parses p followed by q; keeps p, skips q. If more parsers are
given, it keeps the first result and skips the rest.</pre></div><div class="public" id="var-%3C%3F%3E"><h3>&lt;?&gt;</h3><div class="usage"><code>(&lt;?&gt; p msg)</code></div><pre class="doc">If parser p fails consuming no input, it replaces any Expecting
errors with a single Expecting with message msg. This helps to
produce more abstract and accurate error messages.</pre></div><div class="public" id="var-%3C%7C%3E"><h3>&lt;|&gt;</h3><div class="usage"><code>(&lt;|&gt; p q)</code><code>(&lt;|&gt; p q &amp; more)</code></div><pre class="doc">Tries p; if it fails without consuming any input, it tries q.
With more parsers, it will stop and succeed if a parser succeeds;
it will stop and fail if a parser fails consuming input; or it
will try the next one if a parser fails without consuming input.</pre></div><div class="public" id="var-%3E%3E"><h3>&gt;&gt;</h3><div class="usage"><code>(&gt;&gt; p q)</code><code>(&gt;&gt; p q &amp; more)</code></div><pre class="doc">Parses p followed by q; skips p, keeps q. If more parsers are
given, it skips all but last and keeps the result of the last.</pre></div><div class="public" id="var-%3E%3E%3D"><h3>&gt;&gt;=</h3><div class="usage"><code>(&gt;&gt;= p f)</code></div><pre class="doc">Binds parser p to function f which gets p's value and returns
a new parser. Function p must define a single parameter. The
argument it receives is the value parsed by p, not ps' return
value, which is a parser state record.</pre></div><div class="public" id="var-alpha-num"><h3>alpha-num</h3><div class="usage"></div><pre class="doc">Parses a letter or digit.
</pre></div><div class="public" id="var-any-char"><h3>any-char</h3><div class="usage"></div><pre class="doc">Succeeds with any character.
</pre></div><div class="public" id="var-between"><h3>between</h3><div class="usage"><code>(between delim p)</code><code>(between open close p)</code></div><pre class="doc">Applies open, p, close; returns the value of p.
</pre></div><div class="public" id="var-bind"><h3>bind</h3><h4 class="macro">macro</h4><div class="usage"><code>(bind [&amp; bindings] &amp; body)</code></div><pre class="doc">Expands into nested &gt;&gt;= forms and a function body. The pattern:

(&gt;&gt;= p1 (fn [v1]
(&gt;&gt;= p2 (fn [v2]
...
  (return (f v1 v2 ...))))))

can be more conveniently be written as:

(bind [v1 p1 v2 p2 ...] (return (f v1 v2 ...)))</pre></div><div class="public" id="var-char-seq"><h3>char-seq</h3><div class="usage"><code>(char-seq rdr)</code></div><pre class="doc">Returns characters from rdr as a lazy sequence.
rdr must implement java.io.Reader</pre></div><div class="public" id="var-clear-empty"><h3>clear-empty</h3><div class="usage"><code>(clear-empty s)</code></div><pre class="doc">Sets the parser state as not empty. Needed in compound parsers
where optional parsers at the end may leave an incorrect :empty
state for the parser as a whole.</pre></div><div class="public" id="var-dec-num"><h3>dec-num</h3><div class="usage"></div><pre class="doc">Parses a decimal integer delimited by any character that
is not a decimal digit.</pre></div><div class="public" id="var-def-"><h3>def-</h3><h4 class="macro">macro</h4><div class="usage"><code>(def- name &amp; more)</code></div><pre class="doc">Same as def, yielding a private def.
</pre></div><div class="public" id="var-defn*"><h3>defn*</h3><h4 class="macro">macro</h4><div class="usage"><code>(defn* name &amp; more)</code></div><pre class="doc">Same as def, yielding a dynamic def.
</pre></div><div class="public" id="var-digit"><h3>digit</h3><div class="usage"></div><pre class="doc">Parses a digit.
</pre></div><div class="public" id="var-end-by"><h3>end-by</h3><div class="usage"><code>(end-by sep p)</code></div><pre class="doc">Parses p zero or more times, separated and ended by applications
of sep; returns the results of p in a vector.</pre></div><div class="public" id="var-end-by1"><h3>end-by1</h3><div class="usage"><code>(end-by1 sep p)</code></div><pre class="doc">Parses p one or more times, separated and ended by applications
of sep; returns the results of p in a vector.</pre></div><div class="public" id="var-eof"><h3>eof</h3><div class="usage"></div><pre class="doc">Succeeds on end of input.
</pre></div><div class="public" id="var-expect"><h3>expect</h3><div class="usage"><code>(expect p msg)</code></div><pre class="doc">Applies parser p; if it fails (regardless of input consumed)
it replaces any expecting errors with expecting msg. This is
similar to &lt;?&gt; but works even if some input was consumed.</pre></div><div class="public" id="var-expecting"><h3>expecting</h3><div class="usage"><code>(expecting msg s)</code></div><pre class="doc">Sets s as expecting msg.
</pre></div><div class="public" id="var-f-%3Es"><h3>f-&gt;s</h3><div class="usage"><code>(f-&gt;s f)</code><code>(f-&gt;s f e)</code></div><pre class="doc">Gets a character sequence from a file-like object.
</pre></div><div class="public" id="var-fail"><h3>fail</h3><div class="usage"><code>(fail msg)</code></div><pre class="doc">Fails without consuming any input, having a single error
record with the passed messge msg.</pre></div><div class="public" id="var-failed-empty%3F"><h3>failed-empty?</h3><div class="usage"><code>(failed-empty? s)</code></div><pre class="doc">Tests if s failed without consuming any input.
</pre></div><div class="public" id="var-field*"><h3>field*</h3><div class="usage"><code>(field* cs)</code></div><pre class="doc">Parses an unquoted text field terminated by any character in cs.
</pre></div><div class="public" id="var-float-num"><h3>float-num</h3><div class="usage"></div><pre class="doc">Parses a simple fractional number without an exponents.
It is delimited by any character that is not a decimal
digit. It cannot start with a period; the first period
found must be followed by at least one digit.</pre></div><div class="public" id="var-fwd"><h3>fwd</h3><h4 class="macro">macro</h4><div class="usage"><code>(fwd p)</code></div><pre class="doc">Delays the evaluation of a parser that was forward (declare)d and
it has not been defined yet. For use in (def)s of no-arg parsers,
since the parser expression evaluates immediately.</pre></div><div class="public" id="var-get-input"><h3>get-input</h3><div class="usage"><code>(get-input s)</code></div><pre class="doc">Gets the input stream from a parser state.
</pre></div><div class="public" id="var-get-position"><h3>get-position</h3><div class="usage"><code>(get-position s)</code></div><pre class="doc">Gets the position in the input stream of a parser state.
</pre></div><div class="public" id="var-get-state"><h3>get-state</h3><div class="usage"><code>(get-state s)</code></div><pre class="doc">Get the user state from the parser state record.
</pre></div><div class="public" id="var-hex-digit"><h3>hex-digit</h3><div class="usage"></div><pre class="doc">Parses a hexadecimal digit.
</pre></div><div class="public" id="var-hex-num"><h3>hex-num</h3><div class="usage"></div><pre class="doc">Parses a hex integer delimited by any character that
is not a hex digit.</pre></div><div class="public" id="var-letter"><h3>letter</h3><div class="usage"></div><pre class="doc">Parses a letter.
</pre></div><div class="public" id="var-look-ahead"><h3>look-ahead</h3><div class="usage"><code>(look-ahead p)</code></div><pre class="doc">Applies p and returns the result; it consumes no input.
</pre></div><div class="public" id="var-lower"><h3>lower</h3><div class="usage"></div><pre class="doc">Parses a lower-case letter.
</pre></div><div class="public" id="var-many"><h3>many</h3><div class="usage"><code>(many p)</code></div><pre class="doc">Parses p zero or more times; returns the result(s) in a
vector. It stops when p fails, but this parser succeeds.</pre></div><div class="public" id="var-many-till"><h3>many-till</h3><div class="usage"><code>(many-till p end)</code></div><pre class="doc">Parses zero or more p while trying end, until end succeeds.
Returns the results in a vector.</pre></div><div class="public" id="var-many0"><h3>many0</h3><div class="usage"><code>(many0 p)</code></div><pre class="doc">Like (many) but it won't set the state to :empty. Use instead of
(many) if it comes last to avoid overriding non-empty parsing.</pre></div><div class="public" id="var-many1"><h3>many1</h3><div class="usage"><code>(many1 p)</code></div><pre class="doc">Parses p one or more times and returns the result(s) in a
vector. It stops when p fails, but this parser succeeds.</pre></div><div class="public" id="var-map-%3EPError"><h3>map-&gt;PError</h3><div class="usage"><code>(map-&gt;PError m__5818__auto__)</code></div><pre class="doc">Factory function for class blancas.kern.core.PError, taking a map of keywords to field values.
</pre></div><div class="public" id="var-map-%3EPMessage"><h3>map-&gt;PMessage</h3><div class="usage"><code>(map-&gt;PMessage m__5818__auto__)</code></div><pre class="doc">Factory function for class blancas.kern.core.PMessage, taking a map of keywords to field values.
</pre></div><div class="public" id="var-map-%3EPPosition"><h3>map-&gt;PPosition</h3><div class="usage"><code>(map-&gt;PPosition m__5818__auto__)</code></div><pre class="doc">Factory function for class blancas.kern.core.PPosition, taking a map of keywords to field values.
</pre></div><div class="public" id="var-map-%3EPState"><h3>map-&gt;PState</h3><div class="usage"><code>(map-&gt;PState m__5818__auto__)</code></div><pre class="doc">Factory function for class blancas.kern.core.PState, taking a map of keywords to field values.
</pre></div><div class="public" id="var-mark"><h3>mark</h3><div class="usage"></div><pre class="doc">Succeeds with a punctuation mark.
</pre></div><div class="public" id="var-member%3F"><h3>member?</h3><div class="usage"><code>(member? x coll)</code></div><pre class="doc">Tests if x is a member of coll.
</pre></div><div class="public" id="var-modify-state"><h3>modify-state</h3><div class="usage"><code>(modify-state f &amp; more)</code></div><pre class="doc">Modify the user state with the result of f, which takes the old
user state plus any additional arguments.</pre></div><div class="public" id="var-new-line*"><h3>new-line*</h3><div class="usage"></div><pre class="doc">Succeeds on a new line.
</pre></div><div class="public" id="var-none-of*"><h3>none-of*</h3><div class="usage"><code>(none-of* cs)</code></div><pre class="doc">Succeeds if the next character is not in the supplied string.
</pre></div><div class="public" id="var-not-followed-by"><h3>not-followed-by</h3><div class="usage"><code>(not-followed-by p)</code></div><pre class="doc">Succeeds only if p fails; consumes no input.
</pre></div><div class="public" id="var-oct-digit"><h3>oct-digit</h3><div class="usage"></div><pre class="doc">Parses an octal digit.
</pre></div><div class="public" id="var-oct-num"><h3>oct-num</h3><div class="usage"></div><pre class="doc">Parses an octal integer delimited by any character that
is not an octal digit.</pre></div><div class="public" id="var-one-of*"><h3>one-of*</h3><div class="usage"><code>(one-of* cs)</code></div><pre class="doc">Succeeds if the next character is in the supplied string.
</pre></div><div class="public" id="var-option"><h3>option</h3><div class="usage"><code>(option x p)</code></div><pre class="doc">Applies p; if it fails without consuming input, it returns a
parser state record with the :value x as default.</pre></div><div class="public" id="var-optional"><h3>optional</h3><div class="usage"><code>(optional p)</code></div><pre class="doc">Succeeds if p succeeds or if p fails without consuming input.
</pre></div><div class="public" id="var-parse"><h3>parse</h3><div class="usage"><code>(parse p cs)</code><code>(parse p cs src)</code><code>(parse p cs src us)</code></div><pre class="doc">Parses a character sequence; takes an optional label and a user
state initial value, which default to nil. Returns a PState record.

cs    A seqable object; parse calls (seq) on this value.
src   Identifies the source of the text, e.g. a filename.
us    Initializes a field that is maintained by client code.</pre></div><div class="public" id="var-parse-file"><h3>parse-file</h3><div class="usage"><code>(parse-file p f)</code><code>(parse-file p f en)</code><code>(parse-file p f en us)</code></div><pre class="doc">Parses a file; takes an optional encoding and user state,
which default to utf-8 and nil. Returns a PState record.</pre></div><div class="public" id="var-predict"><h3>predict</h3><div class="usage"><code>(predict p)</code></div><pre class="doc">Applies p; if it succeeds it consumes no input.
</pre></div><div class="public" id="var-print-error"><h3>print-error</h3><div class="usage"><code>(print-error s)</code></div><pre class="doc">Prints error messages in a PState record.
</pre></div><div class="public" id="var-put-state"><h3>put-state</h3><div class="usage"><code>(put-state u)</code></div><pre class="doc">Put u as the new value for user state in the parser state record.
</pre></div><div class="public" id="var-reply"><h3>reply</h3><div class="usage"><code>(reply v s)</code></div><pre class="doc">Makes s succeed with value v.
</pre></div><div class="public" id="var-return"><h3>return</h3><div class="usage"><code>(return v)</code></div><pre class="doc">Succeeds without consuming any input. Any carried errors
are removed.</pre></div><div class="public" id="var-run"><h3>run</h3><div class="usage"><code>(run p cs)</code><code>(run p cs src)</code><code>(run p cs src us)</code></div><pre class="doc">For testing parsers, e.g. at the REPL. Calls (parse) on the
arguments and prints the result. If p succeeds it prints the
parsed value; if it fails it prints any error messages.</pre></div><div class="public" id="var-run*"><h3>run*</h3><div class="usage"><code>(run* p cs)</code><code>(run* p cs src)</code><code>(run* p cs src us)</code></div><pre class="doc">For testing parsers, e.g. at the REPL. Works like (run) but
on success it pretty-prints the resulting parser state.</pre></div><div class="public" id="var-runf"><h3>runf</h3><div class="usage"><code>(runf p f)</code><code>(runf p f en)</code><code>(runf p f en us)</code></div><pre class="doc">For testing, e.g. at the REPL, with input from files.
Prints the results.</pre></div><div class="public" id="var-runf*"><h3>runf*</h3><div class="usage"><code>(runf* p f)</code><code>(runf* p f en)</code><code>(runf* p f en us)</code></div><pre class="doc">For testing, e.g. at the REPL, with input from files.
Pretty-prints the results.</pre></div><div class="public" id="var-satisfy"><h3>satisfy</h3><div class="usage"><code>(satisfy pred)</code></div><pre class="doc">Succeeds if the next character satisfies the predicate pred,
in which case advances the position of the input stream. It
may fail on an unexpected end of input.</pre></div><div class="public" id="var-sep-by"><h3>sep-by</h3><div class="usage"><code>(sep-by sep p)</code></div><pre class="doc">Parses p zero or more times while parsing sep in between;
collects the results of p in a vector.</pre></div><div class="public" id="var-sep-by1"><h3>sep-by1</h3><div class="usage"><code>(sep-by1 sep p)</code></div><pre class="doc">Parses p one or more times while parsing sep in between;
collects the results of p in a vector.</pre></div><div class="public" id="var-sep-end-by"><h3>sep-end-by</h3><div class="usage"><code>(sep-end-by sep p)</code></div><pre class="doc">Parses p zero or more times separated, and optionally ended by sep;
collects the results in a vector.</pre></div><div class="public" id="var-sep-end-by1"><h3>sep-end-by1</h3><div class="usage"><code>(sep-end-by1 sep p)</code></div><pre class="doc">Parses p one or more times separated, and optionally ended by sep;
collects the results in a vector.</pre></div><div class="public" id="var-set-input"><h3>set-input</h3><div class="usage"><code>(set-input in)</code></div><pre class="doc">Sets the input stream in a parser state.
</pre></div><div class="public" id="var-set-position"><h3>set-position</h3><div class="usage"><code>(set-position pos)</code></div><pre class="doc">Sets the position in the input stream of a parser state.
</pre></div><div class="public" id="var-skip"><h3>skip</h3><div class="usage"><code>(skip p)</code><code>(skip p q)</code><code>(skip p q &amp; more)</code></div><pre class="doc">Applies one or more parsers and skips the result. That is, it
returns a parser state record with a :value nil.</pre></div><div class="public" id="var-skip-many"><h3>skip-many</h3><div class="usage"><code>(skip-many p)</code></div><pre class="doc">Parses p zero or more times and skips the results. This is
like skip but it can apply p zero, one, or many times.</pre></div><div class="public" id="var-skip-many1"><h3>skip-many1</h3><div class="usage"><code>(skip-many1 p)</code></div><pre class="doc">Parses p one or more times and skips the results.
</pre></div><div class="public" id="var-skip-ws"><h3>skip-ws</h3><div class="usage"><code>(skip-ws p)</code></div><pre class="doc">Skips whitespaces before parsing p.
</pre></div><div class="public" id="var-space"><h3>space</h3><div class="usage"></div><pre class="doc">Parses the space character.
</pre></div><div class="public" id="var-split"><h3>split</h3><div class="usage"></div><pre class="doc">Splits a string on whitespace.
</pre></div><div class="public" id="var-split-on"><h3>split-on</h3><div class="usage"><code>(split-on cs)</code></div><pre class="doc">Splits a string on one of the given characters and whitespace.
Removes empty strings from the result.</pre></div><div class="public" id="var-sym*"><h3>sym*</h3><div class="usage"><code>(sym* x)</code></div><pre class="doc">Parses a single symbol x.
</pre></div><div class="public" id="var-sym-"><h3>sym-</h3><div class="usage"><code>(sym- x)</code></div><pre class="doc">Parses a single symbol x; not case-sensitive.
</pre></div><div class="public" id="var-tab"><h3>tab</h3><div class="usage"></div><pre class="doc">Parses the tab character.
</pre></div><div class="public" id="var-times"><h3>times</h3><div class="usage"><code>(times n p)</code></div><pre class="doc">Applies p n times; collects the results in a vector.
</pre></div><div class="public" id="var-token*"><h3>token*</h3><div class="usage"><code>(token* xs)</code><code>(token* xs &amp; more)</code></div><pre class="doc">Parses a specific string, not necessarily delimited. If more
than one are given it will try each choice in turn.</pre></div><div class="public" id="var-token-"><h3>token-</h3><div class="usage"><code>(token- xs)</code><code>(token- xs &amp; more)</code></div><pre class="doc">Parses a specific string, not necessarily delimited; not
case-sensitive. If more than one are given it will try
each choice in turn.</pre></div><div class="public" id="var-unexpected"><h3>unexpected</h3><div class="usage"><code>(unexpected msg s)</code></div><pre class="doc">Sets s as failed because an unexpected reason.
</pre></div><div class="public" id="var-unexpected-input"><h3>unexpected-input</h3><div class="usage"><code>(unexpected-input in s)</code></div><pre class="doc">Sets s as failed because of an unexpected input.
</pre></div><div class="public" id="var-upper"><h3>upper</h3><div class="usage"></div><pre class="doc">Parses an upper-case letter.
</pre></div><div class="public" id="var-value"><h3>value</h3><div class="usage"><code>(value p cs)</code><code>(value p cs src)</code><code>(value p cs src us)</code></div><pre class="doc">Calls (parse) on the arguments and returns the actual parsed
value, not the PState record.</pre></div><div class="public" id="var-white-space"><h3>white-space</h3><div class="usage"></div><pre class="doc">Parses a whitespace character.
</pre></div><div class="public" id="var-word*"><h3>word*</h3><div class="usage"><code>(word* letter cs)</code><code>(word* letter cs &amp; more)</code></div><pre class="doc">Parses a specific string, delimited by letter. If more than
one are given it will try each choice in turn.</pre></div><div class="public" id="var-word-"><h3>word-</h3><div class="usage"><code>(word- letter cs)</code><code>(word- letter cs &amp; more)</code></div><pre class="doc">Parses a specific string, delimited by letter; not case-sensitive.
If more than one are given it will try each choice in turn.</pre></div></div></body></html>